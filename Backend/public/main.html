<!DOCTYPE html>
<html>
<head>
  <title>Main Page</title>
</head>
<body>
  <h1>Main Page</h1>

  <form id="userForm" enctype="multipart/form-data">
    <label for="username">Username:</label>
    <input type="text" id="username" name="username" required><br><br>

    <label for="photo">Profile Photo:</label>
    <input type="file" id="photo" name="photo" accept="image/*" required><br><br>

    <button type="submit">Create User</button>
  </form>

  <script>
    const form = document.getElementById('userForm');

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const username = document.getElementById('username').value;
      const photo = document.getElementById('photo').files[0];

      const formData = new FormData();
      formData.append('username', username);
      formData.append('photo', photo);

      fetch('http://localhost:3000/api/user', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
        console.log('User created successfully:', data);
        // Handle success, such as showing a success message to the user
      })
      .catch(error => {
        console.error('Error creating user:', error);
        // Handle error, such as showing an error message to the user
      });
    });
  </script>
</body>
</html>
